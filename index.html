<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Immria (Novus)</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script type="text/javascript" language="javascript">
      AFRAME.registerComponent('monument-collection', {
        init: function () {
          // Code here.
          console.log('Welcome, class!');

        //   // Set up request to retrieve names from API endpoint
        //   var serverApiUrl = "https://pjrbfk87db.execute-api.us-east-1.amazonaws.com/dev/";
        //   var apiGetNames = "items";
        //   var namesUrl = serverApiUrl + apiGetNames;
        //   var dict = {};

        //   // Send Request and Parse JSON Response
        //   var request = new XMLHttpRequest();
        //   request.responseType = 'json';
        //   request.open('GET', namesUrl, true);

        //   request.onload  = function() {
        //     var jsonResponse = request.response;
        //     // Error Checking Request
        //     if (request.status >= 200 && request.status < 400) {
        //       jsonResponse.forEach(name => {
        //         var tokenId = name["tokenId"];
        //         var addressName = name["addressName"]
        //         dict[tokenId] = addressName;
        //         //console.log(dict[tokenId])
        //       })
        //     } else {
        //       console.log('error')
        //     }
        //   };
        //   request.send(null);          

        var sceneEl = document.querySelector('a-scene'); 

        for (var i = 0; i < 100; i++) {
            // var boxEl = document.createElement('a-box');
            // boxEl.setAttribute('material', {color: '#173852'});
            // boxEl.setAttribute('position', {x: i, y: i, z: i});
            // //boxEl.setAttribute('scale', {x: Math.random() / 2, y: Math.random() / 2, z: Math.random() / 2});
            // sceneEl.appendChild(boxEl);

            var textEl = document.createElement('a-entity');
            var textPosX = (Math.floor(i/10)*2.5)-10;
            var textPosY = 5 - (i%10)*0.3;
            var textPosZ = -10 + 0.125;
            var textValue = i + 1 + '. Alice Kisaragi';
            textEl.setAttribute('geometry', {width: 'auto', height: 'auto'});
            textEl.setAttribute('position', {x: textPosX, y: textPosY, z: textPosZ}); 
            textEl.setAttribute('text', {width:'5', value: textValue, whiteSpace: 'nowrap'});
            sceneEl.appendChild(textEl);
          }
         }
      });
    
      AFRAME.registerComponent('code-to-attach-to-box', {
        init: function () {
          // Code here.
          console.log(this.el);
        }
      });
    </script>
  </head>
  <body>
    <a-scene monument-collection>
      <!-- Assets  -->
      <a-assets>
        <!-- <img id="boxTexture" src="assets/stones.jpg"> -->
        <img id="skyTexture"
          src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg">
      </a-assets>    

      <!-- Components -->
        <!-- Main Monument -->
        <a-box 
          color="#173852"
          position="-0.1 3.65 -10" 
          rotation="0 0 0"
          scale="25 3.25 0.25" 
        >
        </a-box>
      <a-plane rotation="-90 0 0" width="100" height="100"></a-plane>
      <a-sky src="#skyTexture"></a-sky>
    </a-scene>
  </body>
</html>
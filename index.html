<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Immria (Novus)</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script type="text/javascript" language="javascript">
      AFRAME.registerComponent('monument-collection', {
        init: function () {
          // Code here.
          console.log('Welcome, class!');

        //   // Set up request to retrieve names from API endpoint
        //   var serverApiUrl = "https://pjrbfk87db.execute-api.us-east-1.amazonaws.com/dev/";
        //   var apiGetNames = "items";
        //   var namesUrl = serverApiUrl + apiGetNames;
        //   var dict = {};

        //   // Send Request and Parse JSON Response
        //   var request = new XMLHttpRequest();
        //   request.responseType = 'json';
        //   request.open('GET', namesUrl, true);

        //   request.onload  = function() {
        //     var jsonResponse = request.response;
        //     // Error Checking Request
        //     if (request.status >= 200 && request.status < 400) {
        //       jsonResponse.forEach(name => {
        //         var tokenId = name["tokenId"];
        //         var addressName = name["addressName"]
        //         dict[tokenId] = addressName;
        //         //console.log(dict[tokenId])
        //       })
        //     } else {
        //       console.log('error')
        //     }
        //   };
        //   request.send(null);          

        var sceneEl = document.querySelector('a-scene'); 

        for (var i = 0; i < 50; i++) {
            var boxEl = document.createElement('a-box');
            boxEl.setAttribute('material', {color: '#EF2D5E'});
            boxEl.setAttribute('position', {x: Math.random() * 20 - 10, y: Math.random() * 20 - 10, z: Math.random() * 20 - 10});
            boxEl.setAttribute('scale', {x: Math.random() / 2, y: Math.random() / 2, z: Math.random() / 2});
            sceneEl.appendChild(boxEl);
          }

         }
      });
    
      AFRAME.registerComponent('code-to-attach-to-box', {
        init: function () {
          // Code here.
          console.log(this.el);
        }
      });
    </script>
  </head>
  <body>
    <a-scene monument-collection>
      <!-- Assets  -->
      <a-assets>
        <!-- <img id="boxTexture" src="assets/stones.jpg"> -->
        <img id="skyTexture"
          src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg">
      </a-assets>    
      <a-entity
        geometry="primitive: plane; width: 4; height: auto"
        material="color: blue"
        position="-1 0.5 -3"
        text="value: This text will be 4 units wide.">
      </a-entity>
      <a-plane rotation="-90 0 0" width="30" height="30"></a-plane>
      <a-sky src="#skyTexture"></a-sky>
    </a-scene>
  </body>
</html>